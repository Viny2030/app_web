services:
  # ------------------------------------------------------------------
  # SERVICIO 1: INVERSIONES (http://localhost:8501)
  # ------------------------------------------------------------------
  proyecto_inversiones:
    build: . 
    command: ["streamlit", "run", "app.py"] 
    ports:
      - "8501:8501"
    volumes:
      # Montar secrets.toml como volumen para facilitar cambios sin rebuild
      - ./.streamlit/secrets.toml:/app/.streamlit/secrets.toml:ro
    restart: always
      
  # ------------------------------------------------------------------
  # SERVICIO 2: CONCILIACIÓN (http://localhost:8502)
  # ------------------------------------------------------------------
  proyecto_conciliacion:
    build: .
    command: ["streamlit", "run", "conciliacion_bancaria.py"] 
    ports:
      - "8502:8501" 
    restart: always
    # Si conciliacion_bancaria.py también usa B2, añade las variables aquí